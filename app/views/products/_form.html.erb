<%= simple_form_for(@product, html: { class: 'well' } ) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <fieldset>
    <div class="form-inputs">
      <div class="row">
        <div class="col-lg-6">
          <%= f.input :item_number, required: true %>
          <%= f.input :description, required: true unless f.object.incomplete? %>
          <%= f.input :category, placeholder: 'select by typing to autocomplete', required: true unless f.object.incomplete? %>
        </div>
        <div class="col-lg-6">
          <%= f.input :current_retail_price, wrapper: :prepend do %>
            <%= content_tag :span, '$', class: 'input-group-addon' %>
            <%= f.input_field :current_retail_price,
                              value: (number_with_precision(f.object.current_retail_price, precision: 2) || '') %>
          <% end %>
          <%= f.input :current_cpo, label: 'Current CPO',
                      input_html: { value: (number_with_precision(f.object.current_cpo, 
                                    strip_insignificant_zeros: true) || '') } %>
          <%= f.input :current_point_value,
                      input_html: { value: (number_with_precision(f.object.current_point_value,
                                    strip_insignificant_zeros: true) || '') } %>
          <%= f.input :discontinued, label: false, inline_label: true,
                                     hint: 'Unless this is checked, retail, cpo, and point fields are required.' %>
        </div>
      </div>
    </div>
    <div class="form-actions">
      <%= f.button :submit, class: 'btn btn-primary' %>
      <%= link_to 'Cancel', :back, class: 'btn btn-default' %>
    </div>
  </fieldset>
<% end %>
